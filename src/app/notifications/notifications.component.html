<div class="relative font-sans">
    <!-- Bouton de notification -->
    <button (click)="toggleNotifications()" 
            class="relative p-1 bg-gray-400 text-white rounded-[20%] shadow-lg hover:shadow-2xl transition-all duration-300 focus:outline-none ring-2 ring-green-400">
      <!-- IcÃ´ne cloche -->
      <i class="fa-solid fa-bell">notif</i>
  
      <!-- Badge des notifications non lues -->
      <ng-container *ngIf="notificationsService.unreadCount$ | async as unreadCount">
        <span *ngIf="unreadCount > 0"
              class="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-green-500 rounded-full transform translate-x-1/2 -translate-y-1/2 shadow-md animate-pulse">
          {{ unreadCount }}
        </span>
      </ng-container>
    </button>
  
    <!-- Panneau de notifications -->
    <div *ngIf="showNotifications" 
         class="absolute right-0 mt-4 w-96 bg-slate-500 text-white rounded-2xl shadow-2xl overflow-hidden z-50 border border-gray-700">
  
      <!-- Header du panneau -->
      <div class="p-4 border-b border-gray-600 flex justify-between items-center bg-green-700">
        <h3 class="text-lg font-bold tracking-wide uppercase text-white">Notifications</h3>
        <button (click)="markAllAsRead()" class="text-sm text-white hover:text-gray-200 transition">
          Tout marquer comme lu
        </button>
      </div>
  
      <!-- Contenu scrollable -->
      <div class="max-h-96 overflow-y-auto">
        
        <!-- Notifications -->
        <div *ngFor="let notif of notifications" 
             [class.bg-gray-800]="!notif.isRead"
             class="p-4 border-b border-gray-700 hover:bg-gray-500 transition-colors duration-200 cursor-pointer rounded-t-xl">
          <div class="flex items-start space-x-3">
            <div class="flex-shrink-0 pt-0.5">
              <i [ngClass]="getNotificationIcon(notif)" 
                 class="text-lg"
                 [ngStyle]="{'color': getNotificationColor(notif)}"></i>
            </div>
            <div class="ml-2 flex-1">
              <p class="text-sm font-semibold text-white">{{ notif?.objMessage }}</p>
              <p class="text-xs text-gray-300 mt-1">{{ notif?.message }}</p>
              <p class="text-xs text-gray-400 mt-1">{{ notif?.timestamp | date:'short' }}</p>
            </div>
          </div>
        </div>
  
        <!-- Message si aucune notification -->
        <div *ngIf="notifications.length === 0" 
             class="p-6 text-center text-gray-400 flex flex-col items-center space-y-2">
          <i class="fas fa-bell-slash text-3xl text-gray-500"></i>
          <span class="font-medium text-gray-300 tracking-wide uppercase">Aucune notification</span>
        </div>
      </div>
    </div>
  </div>
  